<app-header></app-header>
<div class="page-content-wrapper">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <h3 class="text-center m-0">
              <a href="index.html" class="logo logo-admin"><img src="assets/images/agena300.png" height="30"
                  alt="logo" /></a>
            </h3>
            <h4 class="text-muted font-18 m-b-5 text-center">
              Bienvenue à notre Support Agena3000
            </h4>

            <div class="p-3">
              <p class="text-muted text-center">
                Bienvenue<b> {{ user.username }}</b> , fait
                une description sur votre probleme !
              </p>

              <form (submit)="addProbleme()" class="form-horizontal m-t-30" action="index.html">
                <div class="form-group">
                  <label for="username">Objet :</label>
                  <ul *ngIf="objetVal.errors?.required  && objetVal.touched " class="parsley-errors-list filled"
                    id="parsley-id-13">
                    <li class="parsley-equalto">Champs Obligatoire ! .</li>
                  </ul>
                  <input type="text" class="form-control" name="objet" id="objet" placeholder="Titre de probleme"
                    [(ngModel)]="probleme.objet" #objetVal="ngModel" required />
                </div>

                <div class="form-group">
                  <label for="userpassword">Catégorie :</label>
                  <ul *ngIf="categorieVal.invalid  && categorieVal.touched " class="parsley-errors-list filled"
                    id="parsley-id-13">
                    <li class="parsley-equalto">Champs Obligatoire ! .</li>
                  </ul>
                  <select name="categorie" [(ngModel)]="probleme.categorie" class="custom-select"
                    #categorieVal="ngModel" required>
                    <option *ngFor="let cat of listCategorie" value="{{cat.id}}">{{cat.name}}</option>

                  </select>
                </div>
                <div class="form-group">
                  <label for="userpassword">Description :</label>
                  <ul *ngIf="descriptionVal.errors?.required  && descriptionVal.touched "
                    class="parsley-errors-list filled" id="parsley-id-13">
                    <li class="parsley-equalto">Champs Obligatoire ! .</li>
                  </ul>
                  <textarea name="description" id="textarea" class="form-control" maxlength="1000" rows="10"
                    placeholder="Description" [(ngModel)]="probleme.description" #descriptionVal="ngModel"
                    required></textarea>
                </div>
                <div class="custom-file">
                  <label for="images">Joindre des fichiers </label>
                  <input #file type="file" accept="image/*" class="custom-file-input" id="validatedCustomFile"
                    multiple="multiple" (change)="preview(file.files)">
                  <label class="custom-file-label" for="validatedCustomFile">Joindre des fichiers...</label>
                </div>

                <div class="form-group">
                  <div>
                    <button type="submit" [disabled]=" descriptionVal.errors || categorieVal.errors || objetVal.errors "
                      class="btn btn-primary waves-effect waves-light">
                      Réclamer
                    </button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-footer></app-footer>
</div>